---
- name: OS specific package install
  include: RedHat.yml
  when: ansible_os_family == 'RedHat'

- name: install git to operate on kolla branches
  package:
    name: git
    state: present
  become: yes

- name: Include pip installattion
  include_role:
    name: pip

- name: Install with upgrade right versions of kollas' deps
  pip:
    name:
      - setuptools
      - jinja2
      - jmespath
    extra_args: --upgrade
  become: yes

- name: Ensure other deps are present
  pip:
    name:
      - pycrypto
      - oslo.config
      - oslo.utils
    state: latest
  become: yes
